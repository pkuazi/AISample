# encoding: utf-8 
'''
Created on May 16, 2014

@author: root
''' 
# import math 
import json
 
geojson = {"type": "MultiPolygon", "coordinates": [
    [[[117.76735, 38.92384], [117.79818, 38.93766], [117.82116, 38.92624], [117.80369, 38.90657], [117.77116, 38.91766], [117.76735, 38.92384]]],
    [[[117.78735, 38.98384], [117.78399, 39.02048], [117.76735, 39.05384], [117.80867, 39.04914], [117.82711, 38.97407], [117.78735, 38.98384]]],
    [[[117.84735, 39.35384], [117.85077, 39.36604], [117.85954, 39.35727], [117.84735, 39.35384]]],
    [[[117.84735, 39.35384], [117.83818, 39.3283], [117.87961, 39.33077], [117.90206, 39.31856], [117.96263, 39.30912], [117.99368, 39.28743], [118.02261, 39.28916], [118.03206, 39.26856], [118.06122, 39.24251], [118.03206, 39.22912], [118.02734, 39.22384], [117.94457, 39.2154], [117.87142, 39.19538], [117.87363, 39.16786], [117.84005, 39.18019], [117.81272, 39.14847], [117.79197, 39.13922], [117.74272, 39.09847], [117.72734, 39.09384], [117.72392, 39.10604], [117.71515, 39.09727], [117.72734, 39.09384], [117.73742, 39.07392], [117.76399, 39.06048], [117.76735, 39.05384], [117.7617, 39.04949], [117.74855, 39.03245], [117.78089, 38.98882], [117.78735, 38.98384], [117.78073, 38.9681], [117.89143, 38.9401], [117.8632, 38.93258], [117.79326, 38.94976], [117.75735, 38.95384], [117.75735, 38.96384], [117.72734, 38.96384], [117.72734, 38.97384], [117.71734, 38.97384], [117.71734, 38.98384], [117.72954, 38.98727], [117.72077, 38.99604], [117.71734, 38.98384], [117.70454, 38.97884], [117.71734, 38.97384], [117.71734, 38.96384], [117.72734, 38.96384], [117.72734, 38.95384], [117.75735, 38.95384], [117.76399, 38.94048], [117.76735, 38.92384], [117.7417, 38.90949], [117.73286, 38.89803], [117.72235, 38.89958], [117.69071, 38.89491], [117.69313, 38.87855], [117.67958, 38.84408], [117.62723, 38.85182], [117.5695, 38.76881], [117.60299, 38.75949], [117.6117, 38.72341], [117.55963, 38.69226], [117.56316, 38.66833], [117.54118, 38.65137], [117.54735, 38.61384], [117.53079, 38.60776], [117.47349, 38.61237], [117.40601, 38.5939], [117.39272, 38.57847], [117.37587, 38.56395], [117.35734, 38.58545], [117.34272, 38.56847], [117.30352, 38.55667], [117.29254, 38.56942], [117.26079, 38.55776], [117.23958, 38.55947], [117.24353, 38.60852], [117.23197, 38.61847], [117.22013, 38.645], [117.18272, 38.61847], [117.14746, 38.60786], [117.09871, 38.58065], [117.08272, 38.59922], [117.07197, 38.60847], [117.04995, 38.63403], [117.05353, 38.67852], [117.04197, 38.68847], [117.03137, 38.70077], [116.95722, 38.69482], [116.91258, 38.67842], [116.87511, 38.68143], [116.86141, 38.71215], [116.86358, 38.73914], [116.74126, 38.75037], [116.74315, 38.77384], [116.74074, 38.80384], [116.74275, 38.82884], [116.74173, 38.84145], [116.72197, 38.85847], [116.71272, 38.88922], [116.70184, 38.89859], [116.71514, 38.95958], [116.75392, 39.01427], [116.7511, 39.04934], [116.77202, 39.04766], [116.78212, 39.05938], [116.82214, 39.04843], [116.85644, 39.05118], [116.88586, 39.08533], [116.91427, 39.10981], [116.91127, 39.14727], [116.86197, 39.15847], [116.85069, 39.20811], [116.86272, 39.21847], [116.87197, 39.22922], [116.87735, 39.23384], [116.88077, 39.22165], [116.88954, 39.23042], [116.87735, 39.23384], [116.87317, 39.23967], [116.86123, 39.29946], [116.88459, 39.31621], [116.86949, 39.35295], [116.83263, 39.3378], [116.81968, 39.34036], [116.82333, 39.35884], [116.82124, 39.36946], [116.83345, 39.37822], [116.82852, 39.40319], [116.86345, 39.42822], [116.86046, 39.44341], [116.82297, 39.436], [116.81297, 39.44995], [116.79263, 39.44594], [116.78317, 39.46368], [116.81395, 39.48574], [116.81037, 39.50384], [116.81345, 39.51946], [116.77791, 39.54494], [116.80343, 39.57836], [116.79997, 39.59589], [116.80734, 39.61384], [116.8248, 39.61639], [116.82989, 39.6413], [116.85964, 39.67126], [116.8948, 39.67639], [116.89735, 39.68384], [116.9029, 39.68829], [116.91179, 39.6994], [116.92578, 39.70829], [116.94382, 39.68575], [116.94168, 39.66845], [116.96529, 39.63612], [117.01671, 39.6508], [117.08153, 39.63608], [117.12234, 39.61209], [117.16446, 39.63684], [117.1611, 39.66384], [117.16609, 39.70396], [117.14976, 39.73175], [117.19483, 39.76785], [117.18179, 39.77829], [117.1729, 39.7894], [117.15166, 39.79834], [117.15472, 39.82294], [117.2429, 39.83829], [117.25179, 39.86064], [117.21819, 39.85646], [117.17256, 39.86949], [117.15635, 39.86748], [117.1429, 39.8994], [117.12973, 39.92181], [117.18625, 39.99248], [117.17827, 40.05658], [117.18734, 40.06384], [117.19734, 40.06384], [117.21547, 40.0675], [117.20735, 40.08384], [117.22979, 40.11292], [117.26274, 40.10805], [117.29644, 40.12838], [117.34299, 40.1382], [117.3517, 40.16949], [117.40109, 40.18324], [117.36939, 40.2077], [117.38299, 40.2182], [117.38734, 40.22384], [117.39788, 40.23653], [117.43904, 40.25199], [117.50635, 40.2267], [117.5487, 40.23102], [117.5629, 40.21923], [117.56123, 40.20294], [117.5765, 40.16774], [117.60039, 40.17017], [117.6438, 40.11812], [117.64109, 40.09152], [117.67735, 40.08782], [117.70047, 40.09018], [117.73208, 40.07831], [117.74274, 40.07939], [117.75188, 40.06838], [117.77145, 40.05213], [117.73281, 40.03537], [117.74245, 40.01732], [117.78158, 40.02131], [117.78543, 39.98358], [117.76545, 39.95952], [117.70261, 39.98314], [117.62207, 39.96824], [117.5802, 39.99838], [117.53179, 39.98929], [117.53378, 39.96974], [117.5118, 39.93919], [117.51375, 39.92003], [117.50152, 39.89868], [117.51281, 39.88931], [117.52188, 39.85838], [117.53281, 39.84931], [117.54188, 39.82838], [117.55593, 39.80384], [117.5418, 39.77917], [117.54285, 39.76884], [117.54179, 39.75841], [117.5836, 39.74614], [117.5801, 39.71184], [117.63964, 39.69437], [117.65814, 39.64512], [117.62134, 39.59862], [117.64281, 39.58931], [117.65735, 39.5718], [117.67749, 39.59605], [117.69289, 39.56917], [117.69108, 39.55139], [117.70942, 39.52931], [117.7332, 39.54543], [117.73086, 39.56845], [117.74281, 39.57838], [117.76039, 39.59955], [117.77734, 39.59782], [117.79804, 39.59993], [117.92109, 39.58613], [117.92289, 39.56852], [117.90158, 39.53132], [117.90289, 39.51852], [117.89094, 39.49766], [117.89305, 39.47689], [117.87188, 39.45931], [117.85389, 39.37818], [117.83773, 39.37982], [117.79281, 39.36664], [117.80188, 39.35838], [117.84735, 39.35384]]]]}

geojson = {"type": "Polygon", "coordinates": [
    [[117.76735, 38.92384], [117.79818, 38.93766], [117.82116, 38.92624], [117.80369, 38.90657], [117.77116, 38.91766], [117.76735, 38.92384]],
    [[117.78735, 38.98384], [117.78399, 39.02048], [117.76735, 39.05384], [117.80867, 39.04914], [117.82711, 38.97407], [117.78735, 38.98384]],
    [[117.84735, 39.35384], [117.85077, 39.36604], [117.85954, 39.35727], [117.84735, 39.35384]],
    [[117.84735, 39.35384], [117.83818, 39.3283], [117.87961, 39.33077], [117.90206, 39.31856], [117.96263, 39.30912], [117.99368, 39.28743], [118.02261, 39.28916], [118.03206, 39.26856], [118.06122, 39.24251], [118.03206, 39.22912], [118.02734, 39.22384], [117.94457, 39.2154], [117.87142, 39.19538], [117.87363, 39.16786], [117.84005, 39.18019], [117.81272, 39.14847], [117.79197, 39.13922], [117.74272, 39.09847], [117.72734, 39.09384], [117.72392, 39.10604], [117.71515, 39.09727], [117.72734, 39.09384], [117.73742, 39.07392], [117.76399, 39.06048], [117.76735, 39.05384], [117.7617, 39.04949], [117.74855, 39.03245], [117.78089, 38.98882], [117.78735, 38.98384], [117.78073, 38.9681], [117.89143, 38.9401], [117.8632, 38.93258], [117.79326, 38.94976], [117.75735, 38.95384], [117.75735, 38.96384], [117.72734, 38.96384], [117.72734, 38.97384], [117.71734, 38.97384], [117.71734, 38.98384], [117.72954, 38.98727], [117.72077, 38.99604], [117.71734, 38.98384], [117.70454, 38.97884], [117.71734, 38.97384], [117.71734, 38.96384], [117.72734, 38.96384], [117.72734, 38.95384], [117.75735, 38.95384], [117.76399, 38.94048], [117.76735, 38.92384], [117.7417, 38.90949], [117.73286, 38.89803], [117.72235, 38.89958], [117.69071, 38.89491], [117.69313, 38.87855], [117.67958, 38.84408], [117.62723, 38.85182], [117.5695, 38.76881], [117.60299, 38.75949], [117.6117, 38.72341], [117.55963, 38.69226], [117.56316, 38.66833], [117.54118, 38.65137], [117.54735, 38.61384], [117.53079, 38.60776], [117.47349, 38.61237], [117.40601, 38.5939], [117.39272, 38.57847], [117.37587, 38.56395], [117.35734, 38.58545], [117.34272, 38.56847], [117.30352, 38.55667], [117.29254, 38.56942], [117.26079, 38.55776], [117.23958, 38.55947], [117.24353, 38.60852], [117.23197, 38.61847], [117.22013, 38.645], [117.18272, 38.61847], [117.14746, 38.60786], [117.09871, 38.58065], [117.08272, 38.59922], [117.07197, 38.60847], [117.04995, 38.63403], [117.05353, 38.67852], [117.04197, 38.68847], [117.03137, 38.70077], [116.95722, 38.69482], [116.91258, 38.67842], [116.87511, 38.68143], [116.86141, 38.71215], [116.86358, 38.73914], [116.74126, 38.75037], [116.74315, 38.77384], [116.74074, 38.80384], [116.74275, 38.82884], [116.74173, 38.84145], [116.72197, 38.85847], [116.71272, 38.88922], [116.70184, 38.89859], [116.71514, 38.95958], [116.75392, 39.01427], [116.7511, 39.04934], [116.77202, 39.04766], [116.78212, 39.05938], [116.82214, 39.04843], [116.85644, 39.05118], [116.88586, 39.08533], [116.91427, 39.10981], [116.91127, 39.14727], [116.86197, 39.15847], [116.85069, 39.20811], [116.86272, 39.21847], [116.87197, 39.22922], [116.87735, 39.23384], [116.88077, 39.22165], [116.88954, 39.23042], [116.87735, 39.23384], [116.87317, 39.23967], [116.86123, 39.29946], [116.88459, 39.31621], [116.86949, 39.35295], [116.83263, 39.3378], [116.81968, 39.34036], [116.82333, 39.35884], [116.82124, 39.36946], [116.83345, 39.37822], [116.82852, 39.40319], [116.86345, 39.42822], [116.86046, 39.44341], [116.82297, 39.436], [116.81297, 39.44995], [116.79263, 39.44594], [116.78317, 39.46368], [116.81395, 39.48574], [116.81037, 39.50384], [116.81345, 39.51946], [116.77791, 39.54494], [116.80343, 39.57836], [116.79997, 39.59589], [116.80734, 39.61384], [116.8248, 39.61639], [116.82989, 39.6413], [116.85964, 39.67126], [116.8948, 39.67639], [116.89735, 39.68384], [116.9029, 39.68829], [116.91179, 39.6994], [116.92578, 39.70829], [116.94382, 39.68575], [116.94168, 39.66845], [116.96529, 39.63612], [117.01671, 39.6508], [117.08153, 39.63608], [117.12234, 39.61209], [117.16446, 39.63684], [117.1611, 39.66384], [117.16609, 39.70396], [117.14976, 39.73175], [117.19483, 39.76785], [117.18179, 39.77829], [117.1729, 39.7894], [117.15166, 39.79834], [117.15472, 39.82294], [117.2429, 39.83829], [117.25179, 39.86064], [117.21819, 39.85646], [117.17256, 39.86949], [117.15635, 39.86748], [117.1429, 39.8994], [117.12973, 39.92181], [117.18625, 39.99248], [117.17827, 40.05658], [117.18734, 40.06384], [117.19734, 40.06384], [117.21547, 40.0675], [117.20735, 40.08384], [117.22979, 40.11292], [117.26274, 40.10805], [117.29644, 40.12838], [117.34299, 40.1382], [117.3517, 40.16949], [117.40109, 40.18324], [117.36939, 40.2077], [117.38299, 40.2182], [117.38734, 40.22384], [117.39788, 40.23653], [117.43904, 40.25199], [117.50635, 40.2267], [117.5487, 40.23102], [117.5629, 40.21923], [117.56123, 40.20294], [117.5765, 40.16774], [117.60039, 40.17017], [117.6438, 40.11812], [117.64109, 40.09152], [117.67735, 40.08782], [117.70047, 40.09018], [117.73208, 40.07831], [117.74274, 40.07939], [117.75188, 40.06838], [117.77145, 40.05213], [117.73281, 40.03537], [117.74245, 40.01732], [117.78158, 40.02131], [117.78543, 39.98358], [117.76545, 39.95952], [117.70261, 39.98314], [117.62207, 39.96824], [117.5802, 39.99838], [117.53179, 39.98929], [117.53378, 39.96974], [117.5118, 39.93919], [117.51375, 39.92003], [117.50152, 39.89868], [117.51281, 39.88931], [117.52188, 39.85838], [117.53281, 39.84931], [117.54188, 39.82838], [117.55593, 39.80384], [117.5418, 39.77917], [117.54285, 39.76884], [117.54179, 39.75841], [117.5836, 39.74614], [117.5801, 39.71184], [117.63964, 39.69437], [117.65814, 39.64512], [117.62134, 39.59862], [117.64281, 39.58931], [117.65735, 39.5718], [117.67749, 39.59605], [117.69289, 39.56917], [117.69108, 39.55139], [117.70942, 39.52931], [117.7332, 39.54543], [117.73086, 39.56845], [117.74281, 39.57838], [117.76039, 39.59955], [117.77734, 39.59782], [117.79804, 39.59993], [117.92109, 39.58613], [117.92289, 39.56852], [117.90158, 39.53132], [117.90289, 39.51852], [117.89094, 39.49766], [117.89305, 39.47689], [117.87188, 39.45931], [117.85389, 39.37818], [117.83773, 39.37982], [117.79281, 39.36664], [117.80188, 39.35838], [117.84735, 39.35384]]]}
 
geojson = {"type":"LineString", "coordinates":[[179.927723424, 89.56923424], [176.960723424, 80.602342419], [154.923424827, 32.602342474]]}
    
import gjsonc 

if __name__ == "__main__":
    print (json.dumps(geojson, ensure_ascii=False))
    
    jstr = gjsonc.encode_geojson(geojson)    
    print (json.dumps(jstr, ensure_ascii=False))
    
    jjso = gjsonc.decode_geojson(jstr)
    print (json.dumps(jjso, ensure_ascii=False))
    
    jjso = gjsonc.trunc_geojson(geojson , 4)
    print (json.dumps(jjso, ensure_ascii=False))
    
    print( gjsonc.jsdecode_source() )
      
